{% extends 'realme/base.html' %}
{% block title %}Mobile Detail{% endblock %}
{% block content %}

<!-- Bootstrap CSS -->
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@700&family=Montserrat:wght@700&display=swap" rel="stylesheet">
<!-- Font Awesome for icons -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
<!-- Custom CSS -->

<style>
    body {
        font-family: SF Pro SC,SF Pro Display,PingFang SC,Helvetica Neue,Helvetica,"Segoe UI",SegoeUI,Arial,sans-serif;
    }
    .container {
        max-width: 1200px;
        margin: 0 auto;
    }
    .card {
        border: none;
        border-radius: 15px;
        overflow: hidden;
        box-shadow: 0 12px 24px rgba(0, 0, 0, 0.1);
        margin-bottom: 30px;
    }
    .card-img-top {
        height: 400px;
        object-fit: cover;
    }
    .card-body {
        padding: 30px;
        text-align: center;
        background: #fff;
    }
    .card-title {
        font-size: 32px;
        font-weight: 700;
        margin-bottom: 20px;
        color: #333;
    }
    .card-text {
        font-size: 18px;
        margin-bottom: 20px;
        color: #555;
    }
    .btn-add-to-cart {
        padding: 15px 30px;
        font-size: 18px;
        font-weight: 600;
        color: #fff;
        background-color: #28a745;
        border: none;
        border-radius: 50px;
        transition: background-color 0.3s ease, transform 0.3s ease;
    }
    .btn-add-to-cart:hover {
        background-color: #218838;
        transform: scale(1.05);
    }
    .specifications {
        margin-top: 30px;
        padding: 20px;
        border-radius: 15px;
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1);
        background-color: #fff;
    }
    .specification-item {
        display: flex;
        justify-content: space-between;
        padding: 10px 0;
        border-bottom: 1px solid #e9ecef;
    }
    .specification-item:last-child {
        border-bottom: none;
    }
    .specification-title {
        font-size: 18px;
        font-weight: 600;
        color: #333;
    }
    .specification-value {
        font-size: 18px;
        color: #555;
        text-align: right;
    }
    .specification-item:hover {
        background-color: #f1f1f1;
        transition: background-color 0.3s ease;
    }
    .reviews-section {
        margin-top: 30px;
    }
    .reviews {
        background-color: #f8f9fa;
        padding: 30px;
        border-radius: 15px;
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1);
    }
    .reviews h2 {
        font-size: 28px;
        color: #007bff;
        font-weight: 700;
        margin-bottom: 20px;
    }
    .review-item {
        border-bottom: 1px solid #e9ecef;
        padding-bottom: 15px;
        margin-bottom: 15px;
    }
    .review-item:last-child {
        border-bottom: none;
    }
    .review-author {
        color: #007bff;
        font-weight: 600;
    }
    .review-text {
        font-size: 16px;
        color: #333;
        margin-bottom: 5px;
    }
    .review-date {
        font-size: 14px;
        color: #999;
    }
    .carousel-item img {
        border-radius: 15px;
        transition: transform 0.3s ease;
    }
    .carousel-item img:hover {
        transform: scale(1.05);
    }
    .scroll-to-top {
        position: fixed;
        bottom: 20px;
        right: 20px;
        background-color: #007bff;
        color: #fff;
        border: none;
        border-radius: 50%;
        width: 50px;
        height: 50px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 24px;
        cursor: pointer;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        transition: background-color 0.3s ease;
    }
    .scroll-to-top:hover {
        background-color: #0056b3;
    }
</style>

<div class="container mt-5">
    <!-- Mobile Detail Card with Carousel -->
    <div class="row">
        <div class="col-md-6">
            <div id="mobileCarousel" class="carousel slide" data-bs-ride="carousel">
                <div class="carousel-inner">
                    {% if mobile.images %}
                    {% for image in mobile.images.all %}
                    <div class="carousel-item{% if forloop.first %} active{% endif %}">
                        <img src="{{ image.url }}" class="d-block w-100" alt="{{ mobile.name }}">
                    </div>
                    {% endfor %}
                    {% else %}
                    <div class="carousel-item active">
                        <img src="{{ mobile.image.url }}" class="d-block w-100" alt="{{ mobile.name }}">
                    </div>
                    {% endif %}
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <div class="card-body">
                <h2 class="card-title">{{ mobile.name }}</h2>
                <p class="card-text"><strong>Description:</strong> {{ mobile.description }}</p>
                <a href="{% url 'add_to_cart' 'mobile' mobile.id %}" class="btn-add-to-cart">Add To Cart</a>
            </div>
        </div>
    </div>

    <!-- Specifications Tab -->
    <div class="specifications">
        <h2>Specifications</h2>
        <div class="specification-item">
            <span class="specification-title">Brand:</span>
            <span class="specification-value">{{ mobile.name }}</span>
        </div>
        <div class="specification-item">
            <span class="specification-title">RAM:</span>
            <span class="specification-value">{{ mobile.ram }}</span>
        </div>
        <div class="specification-item">
            <span class="specification-title">Storage:</span>
            <span class="specification-value">{{ mobile.storage }}</span>
        </div>
        <div class="specification-item">
            <span class="specification-title">Camera:</span>
            <span class="specification-value">{{ mobile.camera }}</span>
        </div>
        <div class="specification-item">
            <span class="specification-title">Battery:</span>
            <span class="specification-value">{{ mobile.battery }}</span>
        </div>
        <div class="specification-item">
            <span class="specification-title">Color:</span>
            <span class="specification-value">{{ mobile.colors }}</span>
        </div>
        <div class="specification-item">
            <span class="specification-title">Price:</span>
            <span class="specification-value">{{ mobile.price }}</span>
        </div>
    </div>

    <!-- Reviews Section -->
    <div class="reviews-section">
        <div class="reviews">
            <h2>Reviews</h2>
            {% for review in product.reviews.all %}
            <div class="review-item">
                <p class="review-text">{{ review.content }}</p>
                <p class="review-author">- {{ review.author }}</p>
                <p class="review-date">{{ review.date }}</p>
            </div>
            {% empty %}
            <p>{{mobile.review}}</p>
            {% endfor %}
        </div>
    </div>

    <!-- Scroll-to-Top Button -->
    <button class="scroll-to-top" onclick="scrollToTop()">
        <i class="fas fa-chevron-up"></i>
    </button>
</div>

<!-- Bootstrap JS and dependencies -->
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/5.3.0/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/js/all.min.js"></script>

<script>
    // Function to scroll to the top of the page
    function scrollToTop() {
        window.scrollTo({ top: 0, behavior: 'smooth' });
    }
</script>

{% endblock %}
